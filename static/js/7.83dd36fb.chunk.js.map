{"version":3,"sources":["service/fetch-api.jsx","Components/MovieCard/MovieCardStyles.jsx","Components/MovieCard/MovieCard.jsx","Components/Button/ButtonStyles.jsx","Components/Button/Button.jsx","images/search.svg","pages/moviesPage/MoviesPageStyles.jsx","pages/moviesPage/MoviesPage.jsx"],"names":["BASE_URL","API_KEY","fetchTranding","a","fetch","res","ok","json","fetchMovieDetails","filmsId","fetchMovieDetailsAuthors","fetchMovieDetailsReviews","fetchSearchMovie","valueInput","MovieCardStyles","styled","li","CardMovie","filmTrend","location","BASE_IMG","map","film","to","pathname","id","state","from","poster_path","src","alt","className","original_title","ButtonStyles","div","Btn","onKeyPress","handler","text","spanStyles","btnStyles","onClick","type","MoviesPageStyles","img","Movies","useState","setValueInput","query","setQuery","useLocation","history","useHistory","match","useRouteMatch","useEffect","parsed","queryString","parse","search","then","catch","err","console","log","message","handleEnter","e","code","push","url","window","addEventListener","removeEventListener","onSubmit","preventDefault","results","length","setTimeout","toast","error","value","onChange","currentTarget","toLowerCase","autoComplete","autoFocus","placeholder"],"mappings":"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","file":"static/js/7.83dd36fb.chunk.js","sourcesContent":["const BASE_URL = \"https://api.themoviedb.org/3\";\r\nconst API_KEY = \"2497cc3d1941bf2f5c8a3541a4d85ed3\";\r\nexport async function fetchTranding() {\r\n  const res = await fetch(\r\n    `${BASE_URL}/trending/movie/week?api_key=${API_KEY}`\r\n  );\r\n  return res.ok ? await res.json() : \"Error\";\r\n}\r\nexport async function fetchMovieDetails(filmsId) {\r\n  const res = await fetch(\r\n    `${BASE_URL}/movie/${filmsId}?api_key=${API_KEY}&language=en-US`\r\n  );\r\n  return res.ok ? await res.json() : \"Error\";\r\n}\r\nexport async function fetchMovieDetailsAuthors(filmsId) {\r\n  const res = await fetch(\r\n    `${BASE_URL}/movie/${filmsId}/credits?api_key=${API_KEY}&language=en-US`\r\n  );\r\n  return res.ok ? await res.json() : \"Error\";\r\n}\r\nexport async function fetchMovieDetailsReviews(filmsId) {\r\n  const res = await fetch(\r\n    `${BASE_URL}/movie/${filmsId}/reviews?api_key=${API_KEY}&language=en-US`\r\n  );\r\n  return res.ok ? await res.json() : \"Error\";\r\n}\r\nexport async function fetchSearchMovie(valueInput) {\r\n  const res = await (valueInput\r\n    ? fetch(\r\n        `${BASE_URL}/search/movie?&api_key=${API_KEY}&query=${valueInput}&language=en-US&page=1&include_adult=false`\r\n      )\r\n    : \"\");\r\n  return res.ok ? await res.json() : \"Error\";\r\n}","import styled from \"styled-components\";\r\n\r\nexport const MovieCardStyles = styled.li`\r\n  background: white;\r\n  border-radius: 0 0.5rem 0.5rem 0.5rem;\r\n  box-shadow: 0.25rem 0.25rem 0.6rem rgba(0, 0, 0, 0.05),\r\n    0 0.5rem 1.125rem rgba(75, 0, 0, 0.05);\r\n  margin-top: 1rem;\r\n  /* min-height: 3rem; */\r\n  padding: 10px 10px 10px 20px;\r\n  position: relative;\r\n  width: 230px;\r\n  .ImageGalleryItem-image {\r\n    width: 200px;\r\n    height: 300px;\r\n    object-fit: cover;\r\n    transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n    margin-bottom: 10px;\r\n  }\r\n  .ImageGalleryItem-image:hover {\r\n    transform: scale(1.03);\r\n  }\r\n`;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { MovieCardStyles } from \"./MovieCardStyles\";\r\nconst CardMovie = ({ filmTrend, location, BASE_IMG }) => {\r\n  return (\r\n    <>\r\n      {filmTrend?.map((film) => {\r\n        return (\r\n          <MovieCardStyles key={film.id}>\r\n            <Link\r\n              key={film.id}\r\n              to={{\r\n                pathname: `/films/${film.id}`,\r\n                state: { from: location },\r\n              }}\r\n            >\r\n              {BASE_IMG && film.poster_path && (\r\n                <img\r\n                  src={`${BASE_IMG}/${film.poster_path}`}\r\n                  alt=\"\"\r\n                  className=\"ImageGalleryItem-image\"\r\n                />\r\n              )}\r\n              <p>{film.original_title}</p>\r\n            </Link>\r\n          </MovieCardStyles>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CardMovie;","import styled from \"styled-components\";\r\n\r\nexport const ButtonStyles = styled.div`\r\n  .button {\r\n    padding: 3px 3px;\r\n    border-radius: 2px;\r\n    background-color: #3f51b5;\r\n    transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n    text-align: center;\r\n    display: inline-block;\r\n    color: #fff;\r\n    border: 0;\r\n    text-decoration: none;\r\n    cursor: pointer;\r\n    font-family: inherit;\r\n    font-size: 15px;\r\n    line-height: 24px;\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    min-width: 100px;\r\n    box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n      0px 2px 2px 0px rgba(138, 105, 105, 0.14),\r\n      0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n  }\r\n  .button:hover,\r\n  .button:focus {\r\n    background-color: #303f9f;\r\n  }\r\n`;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { ButtonStyles } from \"./ButtonStyles\";\r\n\r\nconst Btn = ({ onKeyPress, handler, text, spanStyles, btnStyles }) => {\r\n  return (\r\n    <ButtonStyles>\r\n      <button\r\n        onClick={handler}\r\n        onKeyPress={onKeyPress}\r\n        type=\"button\"\r\n        className={btnStyles}\r\n      >\r\n        <span className={spanStyles}>{text}</span>\r\n      </button>\r\n    </ButtonStyles>\r\n  );\r\n};\r\n\r\nexport default Btn;\r\n\r\nBtn.propTypes = {\r\n  handleBtnClick: PropTypes.string,\r\n};","export default __webpack_public_path__ + \"static/media/search.750f6c86.svg\";","import styled from \"styled-components\";\r\nimport img from \"../../images/search.svg\";\r\n\r\nexport const MoviesPageStyles = styled.div`\r\n  .SearchForm {\r\n    display: flex;\r\n    align-items: center;\r\n    width: 100%;\r\n    max-width: 600px;\r\n    background-color: #fff;\r\n    border-radius: 3px;\r\n    overflow: hidden;\r\n    &__title {\r\n      margin-bottom: 40px;\r\n      font-style: normal;\r\n      font-weight: bold;\r\n      font-size: 34px;\r\n      line-height: 40px;\r\n      color: #474747;\r\n    }\r\n    &__label {\r\n      display: flex;\r\n      position: relative;\r\n    }\r\n  }\r\n  .SearchForm-input {\r\n    display: inline-block;\r\n    width: 100%;\r\n    font: inherit;\r\n    font-size: 20px;\r\n    border: none;\r\n    outline: none;\r\n    padding-left: 4px;\r\n    padding-right: 4px;\r\n  }\r\n  .SearchForm-input::placeholder {\r\n    font: inherit;\r\n    font-size: 18px;\r\n  }\r\n  .SearchForm-button {\r\n    display: inline-block;\r\n    width: 48px;\r\n    height: 48px;\r\n    border: 0;\r\n    background-image: url(${img});\r\n    background-size: 40%;\r\n    background-repeat: no-repeat;\r\n    background-position: center;\r\n    opacity: 0.6;\r\n    transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n    cursor: pointer;\r\n    outline: none;\r\n  }\r\n  .SearchForm-button:hover {\r\n    opacity: 1;\r\n  }\r\n  .SearchForm-button-label {\r\n    position: absolute;\r\n    width: 1px;\r\n    height: 1px;\r\n    padding: 0;\r\n    overflow: hidden;\r\n    clip: rect(0, 0, 0, 0);\r\n    white-space: nowrap;\r\n    clip-path: inset(50%);\r\n    border: 0;\r\n  }\r\n  .ImageGallery {\r\n    display: grid;\r\n    max-width: calc(100vw - 48px);\r\n    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n    grid-gap: 16px;\r\n    margin-top: 20px;\r\n    margin-bottom: 15px;\r\n    padding: 0;\r\n    list-style: none;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n  }\r\n`;","import React, { useEffect, useState } from \"react\";\r\nimport { useLocation, useRouteMatch, useHistory } from \"react-router-dom\";\r\nimport queryString from \"query-string\";\r\nimport { toast } from \"react-toastify\";\r\nimport { fetchSearchMovie } from \"../../service/fetch-api\";\r\nimport CardMovie from \"../../Components/MovieCard/MovieCard\";\r\nimport Btn from \"../../Components/Button/Button\";\r\nimport { MoviesPageStyles } from \"./MoviesPageStyles\";\r\nconst Movies = () => {\r\n  const [valueInput, setValueInput] = useState(\"\");\r\n  const [query, setQuery] = useState(\"\");\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const match = useRouteMatch();\r\n  \r\n  useEffect(() => {\r\n    const parsed = queryString.parse(location.search);\r\n    parsed.query &&\r\n      fetchSearchMovie(parsed.query)\r\n        .then(setQuery)\r\n        .catch((err) => console.log(err.message));\r\n  }, [location.search]);\r\n\r\n  useEffect(() => {\r\n    const handleEnter = (e) => {\r\n    if (e.code === \"Enter\") {\r\n      fetchSearchMovie(valueInput)\r\n        .then(setQuery)\r\n        .catch((err) => console.log(err.message));\r\n      history.push(`${match.url}?query=${valueInput}`);\r\n    }\r\n  };\r\n    window.addEventListener(\"keydown\", handleEnter);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleEnter);\r\n    };\r\n  }, [history, match.url, valueInput]);\r\n  \r\n  const BASE_IMG = \"https://image.tmdb.org/t/p/w500\";\r\n  const onChangeName = (e) => {\r\n    setValueInput(e.currentTarget.value.toLowerCase());\r\n  };\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    fetchSearchMovie(valueInput)\r\n      .then(setQuery)\r\n      .catch((err) => console.log(err.message));\r\n    history.push(`${match.url}?query=${valueInput}`);\r\n    if (query === \"Error\" || query.results?.length === 0) {\r\n      setTimeout(() => {\r\n        // console.log(\"object\");\r\n        // console.log(query);\r\n        return toast.error(\"Not found!\");\r\n      }, 0);\r\n    }\r\n  };\r\n  return (\r\n    <MoviesPageStyles>\r\n      <h3 className=\"SearchForm__title\">Movies</h3>\r\n      <label className=\"SearchForm__label\">\r\n        <input\r\n          value={valueInput}\r\n          onChange={onChangeName}\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search Movies\"\r\n        />\r\n        <Btn\r\n          onKeyPress={onSubmit}\r\n          handler={onSubmit}\r\n          spanStyles=\"SearchForm-button-label\"\r\n          btnStyles=\"SearchForm-button\"\r\n        />\r\n      </label>\r\n\r\n      <ul className=\"ImageGallery\">\r\n        <CardMovie\r\n          filmTrend={query.results}\r\n          BASE_IMG={BASE_IMG}\r\n          location={location}\r\n        />\r\n      </ul>\r\n    </MoviesPageStyles>\r\n  );\r\n};\r\nexport default Movies;"],"sourceRoot":""}